.chat {
  --chat-color: inherit;
  --chat-bg-color: inherit;
  --chat-padding: .5rem 1rem;
  --chat-border-radius: var(--size-00);
  --chat-max-width: min(90%, 60ch);
  padding: var(--size-0);
  display: flex;
  flex-direction: column;
}

.chat-start,
.chat-end {
  color: var(--chat-color);
  background-color: var(--chat-bg-color);
  padding: var(--chat-padding);
  border-radius: var(--chat-border-radius);
  max-width: var(--chat-max-width);
  position: relative;

  &::before {
    position: absolute;
    bottom: 0;
    height: .75rem;
    width: .75rem;
    background-color: inherit;
    content: "";
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: center;
  }

  &:last-child {
    margin: 0;
  }
}

.chat-start {
  --chat-color: var(--color-light);
  --chat-bg-color: var(--color-chat-start);
  border-end-start-radius: 0;
  align-self: flex-start;

  &::before {
    mask-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMycgaGVpZ2h0PSczJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGZpbGw9J2JsYWNrJyBkPSdtIDAgMyBMIDMgMyBMIDMgMCBDIDMgMSAxIDMgMCAzJy8+PC9zdmc+);
    left: -.75rem;
  }
}

.chat-end {
  --chat-color: var(--color-light);
  --chat-bg-color: var(--color-chat-end);
  border-end-end-radius: 0;
  align-self: flex-end;

  &::before {
    mask-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMycgaGVpZ2h0PSczJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGZpbGw9J2JsYWNrJyBkPSdtIDAgMyBMIDEgMyBMIDMgMyBDIDIgMyAwIDEgMCAwJy8+PC9zdmc+);
    left: 100%;
  }
}
